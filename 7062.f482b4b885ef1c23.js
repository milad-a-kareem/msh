"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7062],{7062:(T,c,a)=>{a.r(c),a.d(c,{LoginPageModule:()=>P});var p=a(6019),r=a(9010),t=a(5793),l=a(9949),g=a(4762),o=a(3668),u=a(4344);function m(e,s){1&e&&(o.TgZ(0,"span"),o._uU(1,"Username is Required"),o.qZA())}function h(e,s){if(1&e&&(o.TgZ(0,"div",19),o.YNc(1,m,2,0,"span",20),o.qZA()),2&e){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",null==n.email.errors?null:n.email.errors.required)}}function f(e,s){1&e&&(o.TgZ(0,"span"),o._uU(1,"Password is required"),o.qZA())}function Z(e,s){if(1&e&&(o.TgZ(0,"div",19),o.YNc(1,f,2,0,"span",20),o.qZA()),2&e){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",null==n.password.errors?null:n.password.errors.required)}}const w=[{path:"",component:(()=>{class e{constructor(n,i,d,y){this.authService=n,this.alertController=i,this.router=d,this.loadingController=y,this.passwordToggleIcon="eye",this.showPassword=!1}get email(){return this.credentials.get("email")}get password(){return this.credentials.get("password")}ngOnInit(){this.credentials=new r.cw({email:new r.NI(null,{updateOn:"change",validators:[r.kI.required]}),password:new r.NI(null,{updateOn:"change",validators:[r.kI.required]})})}ionViewDidEnter(){}login(){return(0,g.mG)(this,void 0,void 0,function*(){const n=yield this.loadingController.create();yield n.present(),this.authService.login(this.credentials.value.email,this.credentials.value.password).subscribe(i=>(0,g.mG)(this,void 0,void 0,function*(){yield n.dismiss(),i.token&&(localStorage.setItem("my-token",i.token),this.router.navigate(["/home"],{replaceUrl:!0}))}),i=>(0,g.mG)(this,void 0,void 0,function*(){yield n.dismiss(),yield(yield this.alertController.create({header:"Log In Failed",message:i.message,buttons:["OK"]})).present()}))})}togglePassword(){!1===this.showPassword?(this.passwordToggleIcon="eye-off",this.showPassword=!0):!0===this.showPassword&&(this.passwordToggleIcon="eye",this.showPassword=!1)}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(u.e),o.Y36(t.Br),o.Y36(l.F0),o.Y36(t.HT))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:28,vars:8,consts:[["mode","ios"],[1,"ion-padding"],["fixed",""],["size","12","size-sm","10","offsetSm","1","size-md","8","offsetMd","2","size-lg","6","offsetLg","3","size-xl","4","offsetXl","4"],[1,"my-icon-container"],["src","assets/smart-home.svg",2,"color","var(--ion-color-primary-shade)","width","177px","height","177px"],[1,"welcome"],[1,"ion-padding",3,"formGroup","ngSubmit"],[1,"input-container"],["lines","none",1,"my-item"],["slot","start","name","person-outline","color","dark"],["type","text","formControlName","email",3,"placeholder"],["class","errors",4,"ngIf"],["slot","start","name","lock-open-outline","color","dark"],["formControlName","password",3,"type","placeholder"],["color","dark","slot","end",1,"margin-center",3,"name","click"],[2,"display","flex","justify-content","center"],[2,"width","100%","margin-top","16px","padding","0 !important"],["type","submit","expand","block",2,"--background","var(--ion-color-primary-shade)","color","var(--ion-color-dark)",3,"disabled"],[1,"errors"],[4,"ngIf"]],template:function(n,i){1&n&&(o.TgZ(0,"ion-header",0),o.TgZ(1,"ion-toolbar"),o.TgZ(2,"ion-title"),o._uU(3,"Log In"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4,"ion-content",1),o.TgZ(5,"ion-grid",2),o.TgZ(6,"ion-row"),o.TgZ(7,"ion-col",3),o.TgZ(8,"div",4),o._UZ(9,"ion-icon",5),o.TgZ(10,"p",6),o._uU(11,"Welcome to Mi Smart Home. Log In to Continue."),o.qZA(),o.qZA(),o.TgZ(12,"form",7),o.NdJ("ngSubmit",function(){return i.login()}),o.TgZ(13,"div",8),o.TgZ(14,"ion-item",9),o._UZ(15,"ion-icon",10),o._UZ(16,"ion-input",11),o.qZA(),o.YNc(17,h,2,1,"div",12),o.qZA(),o.TgZ(18,"div",8),o.TgZ(19,"ion-item",9),o._UZ(20,"ion-icon",13),o._UZ(21,"ion-input",14),o.TgZ(22,"ion-icon",15),o.NdJ("click",function(){return i.togglePassword()}),o.qZA(),o.qZA(),o.YNc(23,Z,2,1,"div",12),o.qZA(),o._UZ(24,"div",16),o.TgZ(25,"div",17),o.TgZ(26,"ion-button",18),o._uU(27," LOG IN"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&n&&(o.xp6(12),o.Q6J("formGroup",i.credentials),o.xp6(4),o.Q6J("placeholder","Username"),o.xp6(1),o.Q6J("ngIf",(i.email.dirty||i.email.touched)&&i.email.errors),o.xp6(4),o.Q6J("type",i.showPassword?"text":"password")("placeholder","Password"),o.xp6(1),o.Q6J("name",i.passwordToggleIcon),o.xp6(1),o.Q6J("ngIf",(i.password.dirty||i.password.touched)&&i.password.errors),o.xp6(3),o.Q6J("disabled",!i.credentials.valid))},directives:[t.Gu,t.sr,t.wd,t.W2,t.jY,t.Nd,t.wI,t.gu,r._Y,r.JL,r.sg,t.Ie,t.pK,t.j9,r.JJ,r.u,p.O5,t.YG],styles:[".errors[_ngcontent-%COMP%]{width:100%;font-size:small;color:var(--ion-color-dark);background-color:var(--ion-color-warning);border-radius:7px;padding:3px 3px 3px 16px}.input-container[_ngcontent-%COMP%]{margin-bottom:10px}.welcome[_ngcontent-%COMP%]{text-align:center;margin:0;font-size:large;color:var(--ion-color-primary-shade);font-weight:bold}.my-icon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;align-items:center;margin-top:25px;margin-bottom:15px}ion-item.my-item[_ngcontent-%COMP%]{height:45px;border-radius:7px;--background: var(--ion-color-light-shade);color:var(--ion-color-dark)}ion-button[_ngcontent-%COMP%]{width:100%;height:45px;margin-left:0;margin-right:0;border-radius:7px}"]}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[l.Bz.forChild(w)],l.Bz]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[p.ez,r.u5,r.UX,l.Bz,t.Pc,v]]}),e})()}}]);